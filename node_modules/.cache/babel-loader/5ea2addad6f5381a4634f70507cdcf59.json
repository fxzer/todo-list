{"remainingRequest":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+babel-loader@8.2.3_uwaygiumfr5ruezn5bfsw34234/node_modules/babel-loader/lib/index.js!/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+vue-loader@15.9.8_m6jvttnwtqqy6l4pi5vsxiehsy/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/src/views/TodoList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/src/views/TodoList.vue","mtime":1674105528846},{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/babel.config.js","mtime":1674105528841},{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js","mtime":1671418781610},{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+babel-loader@8.2.3_uwaygiumfr5ruezn5bfsw34234/node_modules/babel-loader/lib/index.js","mtime":1674046835657},{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js","mtime":1671418781610},{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+vue-loader@15.9.8_m6jvttnwtqqy6l4pi5vsxiehsy/node_modules/vue-loader/lib/index.js","mtime":1672555341398}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG5hbm9pZCB9IGZyb20gJ25hbm9pZCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVG9kb0xpc3QiLAogIHByb3ZpZGU6IGZ1bmN0aW9uIHByb3ZpZGUoKSB7CiAgICByZXR1cm4gewogICAgICAndG9kb0xpc3QnOiB0aGlzLnRvZG9MaXN0CiAgICB9OwogIH0sCiAgcHJvcHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b2RvTGlzdDogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9kb0xpc3QnKSkgfHwgW10sCiAgICAgIGNvbXB1dGVMaXN0OiBbXSwKICAgICAgY3VycmVudE1lbnU6ICflhajpg6gnCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIGNvbXB1dGVkOiB7fSwKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXI6IGZ1bmN0aW9uIEhlYWRlcigpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi4vY29tcG9uZW50cy9IZWFkZXIudnVlIik7CiAgICB9LAogICAgTGlzdDogZnVuY3Rpb24gTGlzdCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgiLi4vY29tcG9uZW50cy9MaXN0LnZ1ZSIpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYWRkVG9kb0RvbmU6IGZ1bmN0aW9uIGFkZFRvZG9Eb25lKHZhbCkgewogICAgICB0aGlzLnRvZG9MaXN0LnVuc2hpZnQoewogICAgICAgIGlkOiBuYW5vaWQoKSwKICAgICAgICBjb21wbGV0ZTogZmFsc2UsCiAgICAgICAgY29udGVudDogdmFsCiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZURvbmU6IGZ1bmN0aW9uIGRlbGV0ZURvbmUoaWQpIHsKICAgICAgdGhpcy50b2RvTGlzdCA9IHRoaXMudG9kb0xpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQgIT09IGlkOwogICAgICB9KTsKICAgIH0sCiAgICBlZGl0RG9uZTogZnVuY3Rpb24gZWRpdERvbmUoaWQsIGNvbnRlbnQpIHsKICAgICAgdGhpcy50b2RvTGlzdCA9IHRoaXMudG9kb0xpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGlkKSB7CiAgICAgICAgICBpdGVtLmNvbnRlbnQgPSBjb250ZW50OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgIH0pOwogICAgfSwKICAgIGNvbXBsZXRlRG9uZTogZnVuY3Rpb24gY29tcGxldGVEb25lKGlkKSB7CiAgICAgIHRoaXMudG9kb0xpc3QgPSB0aGlzLnRvZG9MaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtLmlkID09PSBpZCkgewogICAgICAgICAgaXRlbS5jb21wbGV0ZSA9ICFpdGVtLmNvbXBsZXRlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgIH0pOwogICAgfSwKICAgIHN3aXRjaERvbmU6IGZ1bmN0aW9uIHN3aXRjaERvbmUodmFsKSB7CiAgICAgIHRoaXMuY3VycmVudE1lbnUgPSB2YWw7CiAgICB9LAogICAgY2xlYXJDb21wbGV0ZWREb25lOiBmdW5jdGlvbiBjbGVhckNvbXBsZXRlZERvbmUoKSB7CiAgICAgIHRoaXMudG9kb0xpc3QgPSB0aGlzLnRvZG9MaXN0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiAhaXRlbS5jb21wbGV0ZTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy4kYnVzLiRvbignZGVsZXRlVG9kbycsIHRoaXMuZGVsZXRlRG9uZSk7CiAgICB0aGlzLiRidXMuJG9uKCdjb21wbGV0ZVRvZG8nLCB0aGlzLmNvbXBsZXRlRG9uZSk7CiAgICB0aGlzLiRidXMuJG9uKCdlZGl0VG9kbycsIHRoaXMuZWRpdERvbmUpOwogIH0sCiAgd2F0Y2g6IHsKICAgIGN1cnJlbnRNZW51OiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICBpZiAodmFsID09PSAn5YWo6YOoJykgewogICAgICAgICAgdGhpcy5jb21wdXRlTGlzdCA9IHRoaXMudG9kb0xpc3Q7CiAgICAgICAgfSBlbHNlIGlmICh2YWwgPT09ICfmnKrlrozmiJAnKSB7CiAgICAgICAgICB0aGlzLmNvbXB1dGVMaXN0ID0gdGhpcy50b2RvTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuICFpdGVtLmNvbXBsZXRlOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY29tcHV0ZUxpc3QgPSB0aGlzLnRvZG9MaXN0LmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gaXRlbS5jb21wbGV0ZTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHRvZG9MaXN0OiB7CiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5jb21wdXRlTGlzdCA9IHZhbDsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9kb0xpc3QnLCBKU09OLnN0cmluZ2lmeSh2YWwpKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;AAeA;AACA;AACAA,kBADA;AAEAC,SAFA,qBAEA;AACA;AACA;AADA;AAGA,GANA;AAOAC,WAPA;AAQAC,MARA,kBAQA;AACA;AACAC,kEADA;AAEAC,qBAFA;AAGAC;AAHA;AAKA,GAdA;AAeAC,SAfA,qBAeA,EAfA;AAgBAC,cAhBA;AAmBAC;AACAC;AAAA;AAAA,KADA;AAEAC;AAAA;AAAA;AAFA,GAnBA;AAuBAC;AACAC,eADA,uBACAC,GADA,EACA;AACA;AAAAC;AAAAC;AAAAC;AAAA;AACA,KAHA;AAIAC,cAJA,sBAIAH,EAJA,EAIA;AACA;AAAA;AAAA;AACA,KANA;AAOAI,YAPA,oBAOAJ,EAPA,EAOAE,OAPA,EAOA;AACA;AACA;AACAG;AACA;;AACA;AACA,OALA;AAMA,KAdA;AAeAC,gBAfA,wBAeAN,EAfA,EAeA;AACA;AACA;AACAK;AACA;;AACA;AACA,OALA;AAMA,KAtBA;AAuBAE,cAvBA,sBAuBAR,GAvBA,EAuBA;AACA;AACA,KAzBA;AA0BAS,sBA1BA,gCA0BA;AACA;AAAA;AAAA;AACA;AA5BA,GAvBA;AAqDAC,SArDA,qBAqDA;AACA;AACA;AACA;AACA,GAzDA;AA0DAC;AACAnB;AACAoB,qBADA;AAEAC,aAFA,mBAEAb,GAFA,EAEA;AACA;AACA;AACA,SAFA,MAEA;AACA;AAAA;AAAA;AACA,SAFA,MAEA;AACA;AAAA;AAAA;AACA;AAEA;AAXA,KADA;AAcAV;AACAwB,gBADA;AAEAD,aAFA,mBAEAb,GAFA,EAEA;AACA;AACAe;AACA;AALA;AAdA;AA1DA","names":["name","provide","props","data","todoList","computeList","currentMenu","created","computed","components","Header","List","methods","addTodoDone","val","id","complete","content","deleteDone","editDone","item","completeDone","switchDone","clearCompletedDone","mounted","watch","immediate","handler","deep","localStorage"],"sourceRoot":"src/views","sources":["TodoList.vue"],"sourcesContent":["<template>\n  <div id=\"TodoList\" class=\"TodoList\">\n    <Header @addTodo=\"addTodoDone\" :todoList=\"todoList\"></Header>\n    <List\n      :todoList=\"computeList\"\n      @deleteTodo=\"deleteDone\"\n      @editTodo=\"editDone\"\n      @completeTodo=\"completeDone\"\n      @switchMenu=\"switchDone\"\n      @clearCompletedDone=\"clearCompletedDone\"\n    ></List>\n  </div>\n</template>\n\n<script>\nimport {nanoid} from 'nanoid'\nexport default {\n  name: \"TodoList\",\n  provide(){\n    return {\n      'todoList':this.todoList\n    }\n  },\n  props: {},\n  data() {\n    return {\n      todoList:JSON.parse(localStorage.getItem('todoList')) || [],\n      computeList: [],\n      currentMenu:'全部'\n    };\n  },\n  created() {},\n  computed: {\n    \n  },\n  components: {\n    Header: () => import(\"../components/Header.vue\"),\n    List: () => import(\"../components/List.vue\")\n  },\n  methods: {\n    addTodoDone(val) {\n      this.todoList.unshift({ id:nanoid(), complete: false, content: val });\n    },\n    deleteDone(id) {\n      this.todoList = this.todoList.filter((item) =>   item.id !== id );\n    },\n    editDone(id,content){\n       this.todoList = this.todoList.map((item) => {\n        if (item.id === id) {\n           item.content = content;\n        }\n        return item;\n      });\n    },\n    completeDone(id) {\n      this.todoList = this.todoList.map((item) => {\n        if (item.id === id) {\n        item.complete = !item.complete;\n        }\n        return item;\n      });\n    },\n    switchDone(val){\n      this.currentMenu = val\n    },\n    clearCompletedDone(){\n      this.todoList = this.todoList.filter((item) =>   !item.complete );\n    }\n  },\n  mounted() {\n    this.$bus.$on('deleteTodo',this.deleteDone )\n    this.$bus.$on('completeTodo',this.completeDone )\n    this.$bus.$on('editTodo',this.editDone )\n  },\n  watch: {\n    currentMenu:{\n      immediate:true,\n      handler(val){\n        if( val === '全部'){\n           this.computeList  = this.todoList\n        }else if(val === '未完成'){\n          this.computeList = this.todoList.filter((item)=> !item.complete)\n        }else{\n         this.computeList = this.todoList.filter((item)=>item.complete)\n        }\n         \n     }\n    },\n    todoList:{\n      deep:true,\n      handler(val){\n        this.computeList = val\n        localStorage.setItem('todoList',JSON.stringify(val))\n      }\n    }\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n.TodoList {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n</style>\n"]}]}