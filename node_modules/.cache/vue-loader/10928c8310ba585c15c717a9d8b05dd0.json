{"remainingRequest":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+vue-loader@15.9.8_m6jvttnwtqqy6l4pi5vsxiehsy/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/src/views/TodoList.vue?vue&type=style&index=0&id=3d51158f&scoped=true&lang=scss&","dependencies":[{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/src/views/TodoList.vue","mtime":1674046535899},{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js","mtime":1671418782151},{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+vue-loader@15.9.8_m6jvttnwtqqy6l4pi5vsxiehsy/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1672555341399},{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js","mtime":1671418782760},{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+sass-loader@8.0.2_sass@1.49.9/node_modules/sass-loader/dist/cjs.js","mtime":1671418782151},{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js","mtime":1671418781610},{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+vue-loader@15.9.8_m6jvttnwtqqy6l4pi5vsxiehsy/node_modules/vue-loader/lib/index.js","mtime":1672555341398}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLlRvZG9MaXN0IHsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQo="},{"version":3,"sources":["TodoList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AACA","file":"TodoList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"TodoList\" class=\"TodoList\">\n    <Header @addTodo=\"addTodoDone\" :todoList=\"todoList\"></Header>\n    <List\n      :todoList=\"computeList\"\n      @deleteTodo=\"deleteDone\"\n      @editTodo=\"editDone\"\n      @completeTodo=\"completeDone\"\n      @switchMenu=\"switchDone\"\n      @clearCompletedDone=\"clearCompletedDone\"\n    ></List>\n  </div>\n</template>\n\n<script>\nimport {nanoid} from 'nanoid'\nexport default {\n  name: \"TodoList\",\n  provide(){\n    return {\n      'todoList':this.todoList\n    }\n  },\n  props: {},\n  data() {\n    return {\n      todoList:JSON.parse(localStorage.getItem('todoList')) || [],\n      computeList: [],\n      currentMenu:'全部'\n    };\n  },\n  created() {},\n  computed: {\n    \n  },\n  components: {\n    Header: () => import(\"../components/Header.vue\"),\n    List: () => import(\"../components/List.vue\")\n  },\n  methods: {\n    addTodoDone(val) {\n      this.todoList.unshift({ id:nanoid(), complete: false, content: val });\n    },\n    deleteDone(id) {\n      this.todoList = this.todoList.filter((item) =>   item.id !== id );\n    },\n    editDone(id,content){\n       this.todoList = this.todoList.map((item) => {\n        if (item.id === id) {\n           item.content = content;\n        }\n        return item;\n      });\n    },\n    completeDone(id) {\n      this.todoList = this.todoList.map((item) => {\n        if (item.id === id) {\n        item.complete = !item.complete;\n        }\n        return item;\n      });\n    },\n    switchDone(val){\n      this.currentMenu = val\n    },\n    clearCompletedDone(){\n      this.todoList = this.todoList.filter((item) =>   !item.complete );\n    }\n  },\n  mounted() {\n    this.$bus.$on('deleteTodo',this.deleteDone )\n    this.$bus.$on('completeTodo',this.completeDone )\n    this.$bus.$on('editTodo',this.editDone )\n  },\n  watch: {\n    currentMenu:{\n      immediate:true,\n      handler(val){\n        if( val === '全部'){\n           this.computeList  = this.todoList\n        }else if(val === '未完成'){\n          this.computeList = this.todoList.filter((item)=> !item.complete)\n        }else{\n         this.computeList = this.todoList.filter((item)=>item.complete)\n        }\n         \n     }\n    },\n    todoList:{\n      deep:true,\n      handler(val){\n        this.computeList = val\n        localStorage.setItem('todoList',JSON.stringify(val))\n      }\n    }\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n.TodoList {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n</style>\n"]}]}