{"remainingRequest":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+vue-loader@15.9.8_m6jvttnwtqqy6l4pi5vsxiehsy/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/src/views/TodoList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/src/views/TodoList.vue","mtime":1674105528846},{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js","mtime":1671418781610},{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+babel-loader@8.2.3_uwaygiumfr5ruezn5bfsw34234/node_modules/babel-loader/lib/index.js","mtime":1674046835657},{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js","mtime":1671418781610},{"path":"/Users/fanxj/Program/ProjectPractice/Vue3/todo-list/node_modules/.pnpm/registry.npmmirror.com+vue-loader@15.9.8_m6jvttnwtqqy6l4pi5vsxiehsy/node_modules/vue-loader/lib/index.js","mtime":1672555341398}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bmFub2lkfSBmcm9tICduYW5vaWQnCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVG9kb0xpc3QiLAogIHByb3ZpZGUoKXsKICAgIHJldHVybiB7CiAgICAgICd0b2RvTGlzdCc6dGhpcy50b2RvTGlzdAogICAgfQogIH0sCiAgcHJvcHM6IHt9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b2RvTGlzdDpKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2RvTGlzdCcpKSB8fCBbXSwKICAgICAgY29tcHV0ZUxpc3Q6IFtdLAogICAgICBjdXJyZW50TWVudTon5YWo6YOoJwogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7fSwKICBjb21wdXRlZDogewogICAgCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXI6ICgpID0+IGltcG9ydCgiLi4vY29tcG9uZW50cy9IZWFkZXIudnVlIiksCiAgICBMaXN0OiAoKSA9PiBpbXBvcnQoIi4uL2NvbXBvbmVudHMvTGlzdC52dWUiKQogIH0sCiAgbWV0aG9kczogewogICAgYWRkVG9kb0RvbmUodmFsKSB7CiAgICAgIHRoaXMudG9kb0xpc3QudW5zaGlmdCh7IGlkOm5hbm9pZCgpLCBjb21wbGV0ZTogZmFsc2UsIGNvbnRlbnQ6IHZhbCB9KTsKICAgIH0sCiAgICBkZWxldGVEb25lKGlkKSB7CiAgICAgIHRoaXMudG9kb0xpc3QgPSB0aGlzLnRvZG9MaXN0LmZpbHRlcigoaXRlbSkgPT4gICBpdGVtLmlkICE9PSBpZCApOwogICAgfSwKICAgIGVkaXREb25lKGlkLGNvbnRlbnQpewogICAgICAgdGhpcy50b2RvTGlzdCA9IHRoaXMudG9kb0xpc3QubWFwKChpdGVtKSA9PiB7CiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGlkKSB7CiAgICAgICAgICAgaXRlbS5jb250ZW50ID0gY29udGVudDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgIH0pOwogICAgfSwKICAgIGNvbXBsZXRlRG9uZShpZCkgewogICAgICB0aGlzLnRvZG9MaXN0ID0gdGhpcy50b2RvTGlzdC5tYXAoKGl0ZW0pID0+IHsKICAgICAgICBpZiAoaXRlbS5pZCA9PT0gaWQpIHsKICAgICAgICBpdGVtLmNvbXBsZXRlID0gIWl0ZW0uY29tcGxldGU7CiAgICAgICAgfQogICAgICAgIHJldHVybiBpdGVtOwogICAgICB9KTsKICAgIH0sCiAgICBzd2l0Y2hEb25lKHZhbCl7CiAgICAgIHRoaXMuY3VycmVudE1lbnUgPSB2YWwKICAgIH0sCiAgICBjbGVhckNvbXBsZXRlZERvbmUoKXsKICAgICAgdGhpcy50b2RvTGlzdCA9IHRoaXMudG9kb0xpc3QuZmlsdGVyKChpdGVtKSA9PiAgICFpdGVtLmNvbXBsZXRlICk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy4kYnVzLiRvbignZGVsZXRlVG9kbycsdGhpcy5kZWxldGVEb25lICkKICAgIHRoaXMuJGJ1cy4kb24oJ2NvbXBsZXRlVG9kbycsdGhpcy5jb21wbGV0ZURvbmUgKQogICAgdGhpcy4kYnVzLiRvbignZWRpdFRvZG8nLHRoaXMuZWRpdERvbmUgKQogIH0sCiAgd2F0Y2g6IHsKICAgIGN1cnJlbnRNZW51OnsKICAgICAgaW1tZWRpYXRlOnRydWUsCiAgICAgIGhhbmRsZXIodmFsKXsKICAgICAgICBpZiggdmFsID09PSAn5YWo6YOoJyl7CiAgICAgICAgICAgdGhpcy5jb21wdXRlTGlzdCAgPSB0aGlzLnRvZG9MaXN0CiAgICAgICAgfWVsc2UgaWYodmFsID09PSAn5pyq5a6M5oiQJyl7CiAgICAgICAgICB0aGlzLmNvbXB1dGVMaXN0ID0gdGhpcy50b2RvTGlzdC5maWx0ZXIoKGl0ZW0pPT4gIWl0ZW0uY29tcGxldGUpCiAgICAgICAgfWVsc2V7CiAgICAgICAgIHRoaXMuY29tcHV0ZUxpc3QgPSB0aGlzLnRvZG9MaXN0LmZpbHRlcigoaXRlbSk9Pml0ZW0uY29tcGxldGUpCiAgICAgICAgfQogICAgICAgICAKICAgICB9CiAgICB9LAogICAgdG9kb0xpc3Q6ewogICAgICBkZWVwOnRydWUsCiAgICAgIGhhbmRsZXIodmFsKXsKICAgICAgICB0aGlzLmNvbXB1dGVMaXN0ID0gdmFsCiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9MaXN0JyxKU09OLnN0cmluZ2lmeSh2YWwpKQogICAgICB9CiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["TodoList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TodoList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div id=\"TodoList\" class=\"TodoList\">\n    <Header @addTodo=\"addTodoDone\" :todoList=\"todoList\"></Header>\n    <List\n      :todoList=\"computeList\"\n      @deleteTodo=\"deleteDone\"\n      @editTodo=\"editDone\"\n      @completeTodo=\"completeDone\"\n      @switchMenu=\"switchDone\"\n      @clearCompletedDone=\"clearCompletedDone\"\n    ></List>\n  </div>\n</template>\n\n<script>\nimport {nanoid} from 'nanoid'\nexport default {\n  name: \"TodoList\",\n  provide(){\n    return {\n      'todoList':this.todoList\n    }\n  },\n  props: {},\n  data() {\n    return {\n      todoList:JSON.parse(localStorage.getItem('todoList')) || [],\n      computeList: [],\n      currentMenu:'全部'\n    };\n  },\n  created() {},\n  computed: {\n    \n  },\n  components: {\n    Header: () => import(\"../components/Header.vue\"),\n    List: () => import(\"../components/List.vue\")\n  },\n  methods: {\n    addTodoDone(val) {\n      this.todoList.unshift({ id:nanoid(), complete: false, content: val });\n    },\n    deleteDone(id) {\n      this.todoList = this.todoList.filter((item) =>   item.id !== id );\n    },\n    editDone(id,content){\n       this.todoList = this.todoList.map((item) => {\n        if (item.id === id) {\n           item.content = content;\n        }\n        return item;\n      });\n    },\n    completeDone(id) {\n      this.todoList = this.todoList.map((item) => {\n        if (item.id === id) {\n        item.complete = !item.complete;\n        }\n        return item;\n      });\n    },\n    switchDone(val){\n      this.currentMenu = val\n    },\n    clearCompletedDone(){\n      this.todoList = this.todoList.filter((item) =>   !item.complete );\n    }\n  },\n  mounted() {\n    this.$bus.$on('deleteTodo',this.deleteDone )\n    this.$bus.$on('completeTodo',this.completeDone )\n    this.$bus.$on('editTodo',this.editDone )\n  },\n  watch: {\n    currentMenu:{\n      immediate:true,\n      handler(val){\n        if( val === '全部'){\n           this.computeList  = this.todoList\n        }else if(val === '未完成'){\n          this.computeList = this.todoList.filter((item)=> !item.complete)\n        }else{\n         this.computeList = this.todoList.filter((item)=>item.complete)\n        }\n         \n     }\n    },\n    todoList:{\n      deep:true,\n      handler(val){\n        this.computeList = val\n        localStorage.setItem('todoList',JSON.stringify(val))\n      }\n    }\n  },\n};\n</script>\n<style scoped lang=\"scss\">\n.TodoList {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n</style>\n"]}]}